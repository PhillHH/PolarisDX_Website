version: '3.8'
services:
  dev_app:
    # Baut das Image basierend auf unserem Dockerfile.dev
    build:
      context: .
      dockerfile: Dockerfile.dev
    
    ports:
      # Mappe den Container-Port (3000) auf den Host-Port (5173)
      - "3000:5173"
      
    # DER WICHTIGSTE TEIL: Volume Mounting für Live-Reload
    volumes:
      # Synchronisiert den aktuellen Ordner (Code) in den Container-Ordner (/app)
      - .:/app
      # Schließt den node_modules Ordner aus der Synchronisation aus,
      # um Probleme mit Windows/Linux Dateisystemen zu vermeiden.
      - /app/node_modules 
      
    # Nötig, um die interaktive Konsole offen zu halten
    stdin_open: true
    tty: true